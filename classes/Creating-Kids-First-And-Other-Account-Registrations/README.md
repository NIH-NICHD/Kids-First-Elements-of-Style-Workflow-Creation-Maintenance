# Kids First and CAVATICA Account Registrations

Today in this pre-training workshop, we will spend some time to get everyone registered for a few accounts.  By now, we have a GitHub account, an ORCID and hopefully an ERA-Commons ID.  This last one will allow us to take advantage of the NIH Researcher Authentication Service.   In this portion of the class, we will be registering with Kids First as well as CAVATICA and connecting these two accounts together.

## Beginning with Kids First Account

<p>
<br/><br/>
<img src="https://github.com/kids-first/kf-cloud-credits/blob/main/assets/kfdrc-logo-sm.png"  width="500" >
<br/><br/>
</p>

Some of the data within the Kids First Data Resource Center Hub is registered tier access.  What that means is that you simply need to register and the data are available to you.

## Creating a Kids First DRC Account

Please create your account within the Kids First Data Resource Portal.

Navigate to [Kids First DRC](https://kidsfirstdrc.org/)

First screen you will see is:

<img src="https://github.com/NIH-NICHD/Kids-First-Elements-of-Style-Workflow-Creation-Maintenance/blob/main/assets/KidsFirstDRCPortalCreateAnAccount-1.png" width=500>

From here you can navigate to either [CREATE YOUR ACCOUNT](https://portal.kidsfirstdrc.org/join) or [PORTAL LOGIN]()
or [CLICK HERE TO GET STARTED]()

Let's click [CREATE YOUR ACCOUNT](https://portal.kidsfirstdrc.org/join)

<img src="https://github.com/NIH-NICHD/Kids-First-Elements-of-Style-Workflow-Creation-Maintenance/blob/main/assets/KidsFIrstCreateYourAccount.png" width=500>

## Select a Connection Service

A Connection service is used to manage your identity.  

Let's go ahead and [Select a connection service](https://kf-keycloak.kidsfirstdrc.org/auth/realms/kidsfirstdrc/protocol/openid-connect/auth?client_id=portal-ui&redirect_uri=https%3A%2F%2Fportal.kidsfirstdrc.org%2F%2Fdashboard&state=110c9ab4-bcce-40d2-8053-8b4f9a1cabc6&response_mode=fragment&response_type=code&scope=openid&nonce=008d154d-280d-4e44-89c9-ecf3cca6231a).

We have three choices:

<img src="https://github.com/NIH-NICHD/Kids-First-Elements-of-Style-Workflow-Creation-Maintenance/blob/main/assets/KidsFirstLoginChoices-3.png" width=500>

We have today created our ORCID and perhaps our ERACommons ID and we have the option of selecting Google.

Each have their advantages and disadvantages.   I'd like to steer you towards the NIH Researcher Authentication Service.  The reason is that this is the service that will know what data sets you are authorized to access.

## Protecting Human Data - Introducing GA4GH

Pediatric data, human data are sensitve data.   To protect the use of the data, we have data access committees.   Data Access Committees is a world-wide phenomenon.  In this genomic era, where medicine and research involves many types of omics data, protecting these data means that one registers their intent and that intent is then documented.   While today this is an often manual process, we do imagine a future where there is more automation involved, so the process becomes a bit more smoothed out.   In the meantime, the NIH Researcher Authentication Service, is one step closer to the ideal.   First there is the management of your identity, next is the management of what datasets you have access.   The [Global Alliance for Genomics & Health (GA4GH)](https://www.ga4gh.org/) is a policy-framing and technical standards-setting organization, seeking to enable responsible genomic data sharing within a human rights framework.   I encourage you to stay abreast with this organization and the emerging policies they are promoting. 

## Logging in with the NIH Researcher Authentication Service

Let's choose the [NIH Researcher Authentication Service](https://auth.nih.gov/CertAuthV3/forms/mfa/Signin_AuthApp.aspx?TYPE=33554433&REALMOID=06-714c8c8d-d7f9-4d4f-9e09-2a4071759180&GUID=&SMAUTHREASON=0&METHOD=GET&SMAGENTNAME=nihwamwebagent&TARGET=-SM-HTTPS%3a%2f%2fauth%2enih%2egov%2fjwtparser%2flogin_redirector%2ejsp%3fscheme%3dpasspiv%26action%3ddisplay%26sessionID%3dba9efbd7--bcd8--411a--a1a1--c0a97ae332e2%26sessionData%3deyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9%2eew0KICAgICJzZXNzaW9uIjogew0KICAgICAgICAic2Vzc2lvbklEIjoiYmE5ZWZiZDctYmNkOC00MTFhLWExYTEtYzBhOTdhZTMzMmUyIiwNCiAgICAgICAgImV4cCI6MTY2MDY2MTQzMiwNCiAgICAgICAgImN1cnJlbnRfdXNlcm5hbWUiOiIiLA0KICAgICAgICAiY3VycmVudF91c2VyX2NvbnNlbnQiOiJub25lIiwNCiAgICAgICAgImN1cnJlbnRfdXNlcl9yb2xlIjoiIiwNCiAgICAgICAgImN1cnJlbnRfdXNlcl9hY3IiOiIwIiwNCiAgICAgICAgImN1cnJlbnRfdXNlcl9hdXRoVGltZSI6IjAiLA0KICAgICAgICAic2FsdCI6IiIsDQogICAgICAgICJ0aGlyZF9wYXJ0eV9zc29fdG9rZW4iOiIiLA0KICAgICAgICAidGhpcmRfcGFydHlfc3NvX3Rva2VuX3R5cGUiOiIiDQogICAgfSwNCiAgICAicmVxdWVzdF9jb25zZW50Ijogew0KICAgICAgICAiY2xpZW50X25hbWUiOiJLSURTK0ZpcnN0K0RSQytQcm9kIiwNCiAgICAgICAgInNjb3BlX3ZlcmlmaWVkIjoib3BlbmlkK2VtYWlsK2NvbXBhbnkrcHJvZmlsZSINCiAgICB9LA0KICAgICJyZXF1ZXN0X3BhcmFtZXRlcnMiOiB7DQogICAgICAgICJkaXNwbGF5IjoicGFnZSIsDQogICAgICAgICJwcm9tcHQiOiJsb2dpbitjb25zZW50IiwNCiAgICAgICAgImlkX3Rva2VuX2hpbnQiOiIiLA0KICAgICAgICAibG9naW5faGludCI6IiIsDQogICAgICAgICJhY3JfdmFsdWVzIjoiIiwNCiAgICAgICAgImNsaWVudF9pZCI6ImY1OGYyYTNjLTg2ZjUtNDk4NC04MDJhLWIzNjM2ZTUzN2QyOSIsDQogICAgICAgICJub25jZSI6IjB2ZzE0aGVEV1FsZW1DOS0wWU1xYmciLA0KICAgICAgICAic2NvcGUiOiJvcGVuaWQrZW1haWwrY29tcGFueStwcm9maWxlIiwNCiAgICAgICAgIm1heF9hZ2UiOiAiIg0KICAgIH0NCn0%2ekiMAgavoiwjQ9o5HT6MiCm--kP1jslGAhnBz7h6orXsg%26correlationID%3dnihgw--a183090a083fa7b5%2e6b996edb6f138df3)

<img src="https://github.com/NIH-NICHD/Kids-First-Elements-of-Style-Workflow-Creation-Maintenance/blob/main/assets/KidsFirstNIHResearcherAuthenticationService.png" width=500>


## Join Kids First Data Resource Portal

You are now asked to enter basic Information after you have connected with Kids First.

<img src="https://github.com/NIH-NICHD/Kids-First-Elements-of-Style-Workflow-Creation-Maintenance/blob/main/assets/KidsFirstRegistrationScreenNewUser.png" width=500>

Enter the information that describes you best.  The example on the website is a fictious Researcher.

You are asked to agree to adhere to the [NIH Genomic Data User Code of Conduct](https://osp.od.nih.gov/wp-content/uploads/Genomic_Data_User_Code_of_Conduct.pdf).   Some of those terms are recapitulated on the page.

<img src="https://github.com/NIH-NICHD/Kids-First-Elements-of-Style-Workflow-Creation-Maintenance/blob/main/assets/KidsFirstTermsAndConditions.png" width=500>

## Kids First Portal Dashboard

Once these terms are accepted - you will be presented with a Dashboard
<img src="https://github.com/NIH-NICHD/Kids-First-Elements-of-Style-Workflow-Creation-Maintenance/blob/main/assets/KidsFirstNewUserDashboard.png" width=500>

And we are now ready to connect to CAVATICA.

## Kids First Connect to CAVATICA

From the Kids First new user dashboard, we see how to connect to CAVATICA, we see there are three steps.
<img src="https://github.com/NIH-NICHD/Kids-First-Elements-of-Style-Workflow-Creation-Maintenance/blob/main/assets/KidsFirstHowtoConnectToCAVATICAStep1.png" width=500>

## Create an account with CAVATICA

First, we need to create a CAVATICA account, generate a developer token and then paste the developer token, connecting CAVATICA with Kids First.

<img src="https://github.com/NIH-NICHD/Kids-First-Elements-of-Style-Workflow-Creation-Maintenance/blob/main/assets/KidsFirstHowtoConnectToCAVATICACreateAnAccountStep1a.png" width=500>

Creating an account with CAVATICA, repeats some of the steps we followed from the Kids First Portal account creation, but it isn't too much.   There is an option to express interest with INCLUDE data, if you think you might be, you become elgible to recieve $100 in cloud credits.   You can learn about it by clicking on the screen for more information.

<img src="https://github.com/NIH-NICHD/Kids-First-Elements-of-Style-Workflow-Creation-Maintenance/blob/main/assets/KidsFirstHowtoConnectToCAVATICACreateAnAccountStep1b.png" width=500>

After agreeing to the terms and conditions, accepting the privacy policy and proving you are not a robot, we need to have our account verified.

<img src="https://github.com/NIH-NICHD/Kids-First-Elements-of-Style-Workflow-Creation-Maintenance/blob/main/assets/KidsFirstHowtoConnectToCAVATICAVerifyAccountStep1c.png" width=500>

Now login with the verified accounts:

<img src="https://github.com/NIH-NICHD/Kids-First-Elements-of-Style-Workflow-Creation-Maintenance/blob/main/assets/KidsFirstHowtoConnectToCAVATICALoginWithVerifiedAccountStep1d.png" width=500>

## Generate the Developers Token

We need this token to connect the accounts.   So first we Generate the token:

<img src="https://github.com/NIH-NICHD/Kids-First-Elements-of-Style-Workflow-Creation-Maintenance/blob/main/assets/KidsFirstNewAccountCAVATICAGenerateDeveloperAccessTokenStep2.png" width=500>

And then we paste the token, this now connects our registration with Kids First with the CAVATICA Platform.

<img src="https://github.com/NIH-NICHD/Kids-First-Elements-of-Style-Workflow-Creation-Maintenance/blob/main/assets/KidsFirstNewAccountCAVATICAPasteDeveloperTokenStep3.png" width=500>


See further documentation:
[CAVATICA Account Login Creation Documentation](https://docs.cavatica.org/docs/sign-up-for-cavatica)


## Recap of what we have done today

- Registered with Kids First Data Resource Center
- Registered with CAVATICA
- Connected the Kids First DRC with the CAVATICA Platform

## Return to the Agenda

[Main Agenda](https://github.com/NIH-NICHD/Kids-First-Elements-of-Style-Workflow-Creation-Maintenance#agenda-for-pre-training-workshop)
